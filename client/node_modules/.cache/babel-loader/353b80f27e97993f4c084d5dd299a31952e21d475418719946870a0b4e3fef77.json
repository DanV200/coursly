{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\course_project\\\\client\\\\src\\\\components\\\\context.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useEffect } from 'react';\nimport jwt_decode from \"jwt-decode\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AllContext = /*#__PURE__*/createContext();\nconst Context = props => {\n  _s();\n  const {\n    children\n  } = props;\n  const [user, setUser] = useState(); // id have an user_id ,name and array of subjects that the user is registered\n  const [subjects, setSubjects] = useState([]); //array of subjects\n  let token;\n  async function getUser() {\n    token = localStorage.getItem('token');\n    //  setToken(localStorage.getItem('token')) \n    console.log(token);\n    if (token) {\n      let decoded = jwt_decode(token); //decoded is an object with  value of user id and name \n\n      console.log(decoded);\n      let result = await axios.get('http://localhost:4000/userCourses/17'); // בקשת גט לבק שמחזירה לי מערך של אוביקטים שהם הקורסים שהיוזר רשום אליהם\n      console.log(result.data);\n      setUser({\n        ...decoded,\n        courses: result.data\n      }); // דוף לתוך היוזר אובייקט שמכיל ערכים של אובייקט וקיי חדש עם מערך של אובייקטים\n    }\n  }\n\n  async function getSubjects() {\n    let result = await axios.get('http://localhost:4000/subjects');\n  }\n  useEffect(() => {\n    getUser();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AllContext.Provider, {\n    value: {\n      user,\n      token\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 8\n  }, this);\n};\n_s(Context, \"RO339kvEqMWw71qo+klVx0AX+4w=\");\n_c = Context;\nexport default Context;\nvar _c;\n$RefreshReg$(_c, \"Context\");","map":{"version":3,"names":["React","createContext","useEffect","jwt_decode","useState","axios","AllContext","Context","props","children","user","setUser","subjects","setSubjects","token","getUser","localStorage","getItem","console","log","decoded","result","get","data","courses","getSubjects"],"sources":["C:/Users/Admin/Desktop/course_project/client/src/components/context.js"],"sourcesContent":["import React, { createContext, useEffect } from 'react';\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { useState } from 'react';\r\nimport  axios  from 'axios';\r\n\r\nexport const AllContext=createContext();\r\n \r\n\r\nconst Context = (props) => {\r\n    const {children}=props\r\n    const [user,setUser]=useState()// id have an user_id ,name and array of subjects that the user is registered\r\n    const[subjects,setSubjects]=useState([])//array of subjects\r\n    let token;\r\n\r\n  \r\n    async function  getUser(){\r\n       token=localStorage.getItem('token')\r\n        //  setToken(localStorage.getItem('token')) \r\n         console.log(token)\r\n        if (token) {let decoded=jwt_decode(token)//decoded is an object with  value of user id and name \r\n        \r\n        console.log(decoded)\r\n        let result=await axios.get('http://localhost:4000/userCourses/17')// בקשת גט לבק שמחזירה לי מערך של אוביקטים שהם הקורסים שהיוזר רשום אליהם\r\n        console.log(result.data)\r\n        setUser({...decoded,courses:result.data})// דוף לתוך היוזר אובייקט שמכיל ערכים של אובייקט וקיי חדש עם מערך של אובייקטים\r\n    }\r\n  }\r\n\r\nasync function getSubjects(){\r\n  let result=await axios.get('http://localhost:4000/subjects')\r\n\r\n}\r\n    useEffect(() => {\r\n      getUser()\r\n      \r\n      },[]);\r\n    return (\r\n       <AllContext.Provider value={{user,token,}}>\r\n        {children}\r\n       </AllContext.Provider>\r\n    );\r\n\r\n}\r\nexport default Context;\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,SAAS,QAAQ,OAAO;AACvD,OAAOC,UAAU,MAAM,YAAY;AACnC,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAQC,KAAK,MAAO,OAAO;AAAC;AAE5B,OAAO,MAAMC,UAAU,gBAACL,aAAa,EAAE;AAGvC,MAAMM,OAAO,GAAIC,KAAK,IAAK;EAAA;EACvB,MAAM;IAACC;EAAQ,CAAC,GAACD,KAAK;EACtB,MAAM,CAACE,IAAI,EAACC,OAAO,CAAC,GAACP,QAAQ,EAAE;EAC/B,MAAK,CAACQ,QAAQ,EAACC,WAAW,CAAC,GAACT,QAAQ,CAAC,EAAE,CAAC;EACxC,IAAIU,KAAK;EAGT,eAAgBC,OAAO,GAAE;IACtBD,KAAK,GAACE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAClC;IACCC,OAAO,CAACC,GAAG,CAACL,KAAK,CAAC;IACnB,IAAIA,KAAK,EAAE;MAAC,IAAIM,OAAO,GAACjB,UAAU,CAACW,KAAK,CAAC;;MAEzCI,OAAO,CAACC,GAAG,CAACC,OAAO,CAAC;MACpB,IAAIC,MAAM,GAAC,MAAMhB,KAAK,CAACiB,GAAG,CAAC,sCAAsC,CAAC;MAClEJ,OAAO,CAACC,GAAG,CAACE,MAAM,CAACE,IAAI,CAAC;MACxBZ,OAAO,CAAC;QAAC,GAAGS,OAAO;QAACI,OAAO,EAACH,MAAM,CAACE;MAAI,CAAC,CAAC;IAC7C;EACF;;EAEF,eAAeE,WAAW,GAAE;IAC1B,IAAIJ,MAAM,GAAC,MAAMhB,KAAK,CAACiB,GAAG,CAAC,gCAAgC,CAAC;EAE9D;EACIpB,SAAS,CAAC,MAAM;IACda,OAAO,EAAE;EAET,CAAC,EAAC,EAAE,CAAC;EACP,oBACG,QAAC,UAAU,CAAC,QAAQ;IAAC,KAAK,EAAE;MAACL,IAAI;MAACI;IAAM,CAAE;IAAA,UACxCL;EAAQ;IAAA;IAAA;IAAA;EAAA,QACY;AAG7B,CAAC;AAAA,GAlCKF,OAAO;AAAA,KAAPA,OAAO;AAmCb,eAAeA,OAAO;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}